include ./passphrase-field/passphrase-field.jade
include ./public-key-reader-field/public-key-reader-field.jade
include ./public-key-writer-field/public-key-writer-field.jade
include ./secret-generator-field/secret-generator-field.jade
include ./secret-field/secret-field.jade

.container
	form#secret-form.form-horizontal(role='form', v-cloak)
		.form-group(style='padding-top: 2px;')
			.col-md-12
				span.label.label-default.pull-right(v-show='directMode') Direct mode
				span.label.label-warning.pull-right(v-show='reverseMode') Reverse mode

		passphrase-field(v-bind:passphrase.sync='passphrase')
		
		public-key-reader-field(v-show='directMode',
				v-bind:public-key.sync='chosenPublicKey',
				v-bind:public-key-name.sync='chosenPublicKeyName',
				tab-index='2')
		secret-generator-field(v-show='reverseMode',
				v-bind:secret.sync='generatedSecret',
				tab-index='2')
			
		.form-group.text-center(title='Mode trigger')
			.col-md-12
				button.btn.btn-default.btn-lg(v-on:click='toggleMode', type='button', tabindex='-1')
					span.glyphicon.glyphicon-sort
				
		secret-field(v-show='directMode',
				v-bind:class='{"has-error": secretComputationError}',
				v-bind:secret='computedSecret',
				tab-index='3')
		public-key-writer-field(v-show='reverseMode',
				v-bind:class='{"has-error": publicKeyComputationError}'
				v-bind:public-key='computedPublicKey',
				v-bind:public-key-name.sync='enteredPublicKeyName',
				tab-index='3')
